<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Workflow Trigger - GitHub Pages</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f6f8fa;
            color: #24292f;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: #ffffff;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
            border: 1px solid #d1d9e0;
        }
        h1 {
            color: #fb8500;
            text-align: center;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        h1::before {
            content: "";
            width: 24px;
            height: 24px;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="%23000000"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/></svg>') no-repeat;
            background-size: contain;
        }
        .subtitle {
            text-align: center;
            color: #656d76;
            margin-bottom: 40px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #24292f;
        }
        input[type="text"], select, textarea {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #d1d9e0;
            border-radius: 6px;
            font-size: 14px;
            box-sizing: border-box;
            background-color: #ffffff;
            color: #24292f;
        }
        input[type="text"]:focus, input[type="number"]:focus, select:focus, textarea:focus {
            border-color: #fb8500;
            outline: none;
            box-shadow: 0 0 0 2px rgba(251, 133, 0, 0.3);
        }
        input[type="number"] {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #d1d9e0;
            border-radius: 6px;
            font-size: 14px;
            box-sizing: border-box;
            background-color: #ffffff;
            color: #24292f;
        }
        input[type="checkbox"] {
            accent-color: #fb8500;
        }
        textarea {
            resize: vertical;
            min-height: 80px;
        }
        .btn {
            background-color: #fb8500;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: background-color 0.2s;
            width: 100%;
            margin-top: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        .btn:hover {
            background-color: #e07600;
        }
        .btn:disabled {
            background-color: #484f58;
            cursor: not-allowed;
        }
        .status {
            margin-top: 20px;
            padding: 12px;
            border-radius: 6px;
            display: none;
        }
        .status.success {
            background-color: #fff3e0;
            color: #cc6600;
            border: 1px solid #fb8500;
        }
        .status.error {
            background-color: #ffebe9;
            color: #cf222e;
            border: 1px solid #da3633;
        }
        .info-box {
            background-color: #f6f8fa;
            border: 1px solid #fb8500;
            border-radius: 6px;
            padding: 16px;
            margin-bottom: 30px;
        }

        .links {
            margin-top: 30px;
            text-align: center;
        }
        .links a {
            color: #fb8500;
            text-decoration: none;
            margin: 0 10px;
        }
        .links a:hover {
            text-decoration: underline;
        }
        
        /* Copy button styling */
        #copyJsonBtn:hover {
            background: #e07600 !important;
            transform: translateY(-1px);
            box-shadow: 0 2px 4px rgba(0,0,0,0.15);
        }
        
        #copyJsonBtn:active {
            transform: translateY(0);
        }
        
        #copyJsonBtn {
            transition: all 0.2s ease;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 style="color: #000000;">
            GitHub Actions Workflows
        </h1>
        <p class="subtitle">Trigger GitHub Actions from your browser</p>
        
        <!-- Workflow Pattern Selector -->
        <div class="workflow-selector" style="margin-bottom: 30px;">
            <h3 style="color: #da3005; margin-bottom: 15px;">
                Select GitHub Action to run:
            </h3>
            
            <div class="pattern-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px; margin-bottom: 20px;">
                
                <!-- Advanced JSON Pattern -->
                <div class="pattern-card" data-pattern="advanced" style="border: 2px solid #d1d9e0; border-radius: 8px; padding: 15px; cursor: pointer; transition: all 0.2s; background-color: #f6f8fa;">
                    <h4 style="margin: 0 0 8px 0; color: #fb8500; display: flex; align-items: center; gap: 6px;">
                        Advanced JSON Configuration
                    </h4>
                    <p style="margin: 0 0 8px 0; font-size: 14px; color: #656d76;">15+ inputs via JSON payload. Ideal for complex deployments.</p>
                    <div style="font-size: 12px; color: #cc6414;">
                        <strong>Use cases:</strong> Multi-cloud deployments, complex CI/CD, enterprise configs
                    </div>
                </div>

                <!-- Simple Trigger Pattern -->
                <div class="pattern-card" data-pattern="simple" style="border: 2px solid #d1d9e0; border-radius: 8px; padding: 15px; cursor: pointer; transition: all 0.2s; background-color: #f6f8fa;">
                    <h4 style="margin: 0 0 8px 0; color: #fb8500; display: flex; align-items: center; gap: 6px;">
                        Simple Workflow Trigger
                    </h4>
                    <p style="margin: 0 0 8px 0; font-size: 14px; color: #656d76;">Basic workflow with message and environment selection.</p>
                    <div style="font-size: 12px; color: #cc6414;">
                        <strong>Use cases:</strong> Quick deployments, testing, demos, simple automation
                    </div>
                </div>


                
            </div>
            
        </div>

        <!-- Advanced Configuration Form (11+ Inputs) -->
        <form id="triggerForm">
            <h3>Advanced Workflow Configuration</h3>
            
            <!-- Deployment Configuration -->
            <fieldset style="margin-bottom: 20px; padding: 15px; border: 1px solid #d0d7de; border-radius: 6px;">
                <legend style="font-weight: bold; color: #fb8500; display: flex; align-items: center; gap: 6px;">
                    Deployment Settings
                </legend>
                
                <div class="form-group">
                    <label for="environment">Target Environment:</label>
                    <select id="environment" name="environment" required>
                        <option value="development">Development</option>
                        <option value="staging">Staging</option>
                        <option value="production">Production</option>
                        <option value="qa">QA</option>
                        <option value="integration">Integration</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="region">Deployment Region:</label>
                    <select id="region" name="region" required>
                        <option value="us-east-1">US East (N. Virginia)</option>
                        <option value="us-west-2">US West (Oregon)</option>
                        <option value="eu-west-1">Europe (Ireland)</option>
                        <option value="ap-southeast-1">Asia Pacific (Singapore)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="version">Application Version:</label>
                    <input type="text" id="version" name="version" placeholder="v1.2.3 or latest" required>
                </div>
                
                <div class="form-group">
                    <label for="replicas">Replica Count:</label>
                    <input type="number" id="replicas" name="replicas" min="1" max="10" value="3" required>
                </div>
            </fieldset>

            <!-- Application Configuration -->
            <fieldset style="margin-bottom: 20px; padding: 15px; border: 1px solid #d1d9e0; border-radius: 6px; background-color: #f6f8fa;">
                <legend style="font-weight: bold; color: #fb8500; display: flex; align-items: center; gap: 6px;">
                    Application Settings
                </legend>
                
                <div class="form-group">
                    <label for="appName">Application Name:</label>
                    <input type="text" id="appName" name="appName" placeholder="my-application" required>
                </div>
                
                <div class="form-group">
                    <label for="namespace">Kubernetes Namespace:</label>
                    <input type="text" id="namespace" name="namespace" placeholder="default" required>
                </div>
                
                <div class="form-group">
                    <label for="dockerImage">Docker Image:</label>
                    <input type="text" id="dockerImage" name="dockerImage" placeholder="nginx:latest" required>
                </div>
                
                <div class="form-group">
                    <label for="resources">Resource Limits:</label>
                    <select id="resources" name="resources" required>
                        <option value="small">Small (0.5 CPU, 512Mi RAM)</option>
                        <option value="medium">Medium (1 CPU, 1Gi RAM)</option>
                        <option value="large">Large (2 CPU, 2Gi RAM)</option>
                        <option value="xlarge">XLarge (4 CPU, 4Gi RAM)</option>
                    </select>
                </div>
            </fieldset>

            <!-- Database Configuration -->
            <fieldset style="margin-bottom: 20px; padding: 15px; border: 1px solid #d1d9e0; border-radius: 6px; background-color: #f6f8fa;">
                <legend style="font-weight: bold; color: #fb8500; display: flex; align-items: center; gap: 6px;">
                    Database Settings
                </legend>
                
                <div class="form-group">
                    <label for="dbType">Database Type:</label>
                    <select id="dbType" name="dbType" required>
                        <option value="postgresql">PostgreSQL</option>
                        <option value="mysql">MySQL</option>
                        <option value="mongodb">MongoDB</option>
                        <option value="redis">Redis</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="dbVersion">Database Version:</label>
                    <input type="text" id="dbVersion" name="dbVersion" placeholder="13.4" required>
                </div>
                
                <div class="form-group">
                    <label for="dbSize">Database Size:</label>
                    <select id="dbSize" name="dbSize" required>
                        <option value="10Gi">Small (10GB)</option>
                        <option value="50Gi">Medium (50GB)</option>
                        <option value="100Gi">Large (100GB)</option>
                        <option value="500Gi">XLarge (500GB)</option>
                    </select>
                </div>
            </fieldset>

            <!-- Advanced Options -->
            <fieldset style="margin-bottom: 20px; padding: 15px; border: 1px solid #d1d9e0; border-radius: 6px; background-color: #f6f8fa;">
                <legend style="font-weight: bold; color: #fb8500; display: flex; align-items: center; gap: 6px;">
                    Advanced Options
                </legend>
                
                <div class="form-group">
                    <label for="enableLogging">
                        <input type="checkbox" id="enableLogging" name="enableLogging" checked style="width: auto; margin-right: 8px;">
                        Enable Enhanced Logging
                    </label>
                </div>
                
                <div class="form-group">
                    <label for="enableMonitoring">
                        <input type="checkbox" id="enableMonitoring" name="enableMonitoring" checked style="width: auto; margin-right: 8px;">
                        Enable Monitoring & Alerting
                    </label>
                </div>
            
                <div class="form-group">
                    <label for="customEnvVars">Custom Environment Variables (JSON):</label>
                    <textarea id="customEnvVars" name="customEnvVars" placeholder='{"KEY1": "value1", "KEY2": "value2"}' rows="2"></textarea>
                </div>

                <div class="form-group">
                    <label for="deploymentNotes">Deployment Notes:</label>
                    <textarea id="deploymentNotes" name="deploymentNotes" placeholder="Enter any special notes for this deployment..." rows="3"></textarea>
                </div>
            </fieldset>

            <!-- Generated JSON Preview -->
            <fieldset style="margin-bottom: 20px; padding: 15px; border: 1px solid #ff6e30; border-radius: 6px; background-color: #f6f8fa;">
                <legend style="font-weight: bold; color: #fb5800; display: flex; align-items: center; gap: 6px;">
                    Generated Configuration JSON
                </legend>
                <div style="position: relative;">
                    <pre id="jsonPreview" style="background: #f6f8fa; color: #24292f; padding: 10px; border-radius: 4px; overflow-x: auto; font-size: 12px; max-height: 200px; margin: 0; border: 1px solid #d1d9e0;">{
  "deployment": {},
  "application": {},
  "database": {},
  "advanced": {}
}</pre>
                    <button id="copyJsonBtn" onclick="copyJsonToClipboard()" style="position: absolute; top: 8px; right: 8px; background: #e0430a; color: white; border: none; padding: 6px 8px; border-radius: 4px; cursor: pointer; font-size: 12px; display: flex; align-items: center; gap: 4px;" title="Copy JSON to clipboard">
                        <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
                            <path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path>
                            <path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path>
                        </svg>
                        Copy
                    </button>
                </div>
            </fieldset>

            <button type="submit" class="btn" id="triggerBtn">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="#000000">
                    <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/>
                </svg>
                Generate JSON & Trigger GitHub Action
            </button>
        </form>

        <div id="status" class="status"></div>

        <div class="links" id="dynamic-links">
            <!-- Links will be populated dynamically by JavaScript -->
        </div>
    </div>

    <script>
        // Auto-detect repository information from GitHub Pages URL
        function getRepoInfo() {
            const hostname = window.location.hostname;
            const pathname = window.location.pathname;
            
            if (hostname.endsWith('.github.io')) {
                // GitHub Pages URL format: username.github.io/repository
                const owner = hostname.split('.')[0];
                const repo = pathname.split('/')[1] || owner; // If no repo in path, assume it's username.github.io (same as username)
                return { owner, repo };
            } else if (hostname === 'localhost' || hostname.startsWith('127.0.0.1') || hostname.startsWith('file://')) {
                // Local development - use fallback values
                return { 
                    owner: 'ElizabethMoralesO', 
                    repo: 'test' 
                };
            } else {
                // Custom domain - try to extract from pathname or use defaults
                const pathParts = pathname.split('/').filter(Boolean);
                return { 
                    owner: pathParts[0] || 'ElizabethMoralesO', 
                    repo: pathParts[1] || 'test' 
                };
            }
        }
        
        const { owner: REPO_OWNER, repo: REPO_NAME } = getRepoInfo();
        
        // Initialize page with auto-detected repository info
        function initializePage() {
            // Update dynamic links
            const linksContainer = document.getElementById('dynamic-links');
            if (linksContainer) {
                linksContainer.innerHTML = `
                    <a href="https://github.com/${REPO_OWNER}/${REPO_NAME}/actions" target="_blank">üìä View Workflow Runs</a>
                    <a href="https://github.com/${REPO_OWNER}/${REPO_NAME}" target="_blank">üìÅ View Repository</a>
                    <a href="https://github.com/${REPO_OWNER}/${REPO_NAME}/tree/main/.github/workflows" target="_blank">‚öôÔ∏è View All Workflows</a>
                `;
            }
            
        }
        
        // Available workflow patterns
        const WORKFLOW_PATTERNS = {
            'advanced': {
                name: 'Advanced JSON Configuration',
                workflow: 'advanced-workflow.yaml',
                description: 'Complex deployment configuration with 15+ inputs via JSON payload',
                inputCount: 15,
                useForm: true
            },
            'simple': {
                name: 'Simple Workflow Trigger',
                workflow: 'simple-workflow.yaml',
                description: 'Basic workflow trigger with message and environment selection',
                inputCount: 2,
                useForm: false
            }
        };
        
        let selectedPattern = 'advanced'; // Default pattern

        // Setup event listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Pattern selection
            const patternCards = document.querySelectorAll('.pattern-card');
            patternCards.forEach(card => {
                card.addEventListener('click', () => {
                    selectPattern(card.dataset.pattern);
                });
            });
            
            // Form submission
            document.getElementById('triggerForm').addEventListener('submit', handleWorkflowTrigger);
            
            // Add real-time JSON preview updates for advanced pattern
            const formInputs = document.querySelectorAll('#triggerForm input, #triggerForm select, #triggerForm textarea');
            formInputs.forEach(input => {
                input.addEventListener('input', updateDisplay);
                input.addEventListener('change', updateDisplay);
            });
            
            // Initialize page content
            initializePage();
            
            // Initialize with default pattern
            selectPattern(selectedPattern);
        });

        // Select workflow pattern
        function selectPattern(patternId) {
            selectedPattern = patternId;
            const pattern = WORKFLOW_PATTERNS[patternId];
            
            // Update visual selection
            document.querySelectorAll('.pattern-card').forEach(card => {
                if (card.dataset.pattern === patternId) {
                    card.style.border = '2px solid #fb8500';
                    card.style.backgroundColor = '#fff3e0';
                } else {
                    card.style.border = '2px solid #d1d9e0';
                    card.style.backgroundColor = '#f6f8fa';
                }
            });
            
            // Show appropriate form or redirect
            showFormForPattern(patternId);
        }

        // Show appropriate form based on pattern
        function showFormForPattern(patternId) {
            const formContainer = document.getElementById('triggerForm');
            const pattern = WORKFLOW_PATTERNS[patternId];
            
            // Decision logic: Use form if more than 10 inputs, redirect if 10 or fewer
            if (pattern.inputCount > 10 || pattern.useForm) {
                formContainer.style.display = 'block';
                
                if (patternId === 'advanced') {
                    showAdvancedForm();
                }
            } else {
                formContainer.style.display = 'none';
                
                if (patternId === 'simple') {
                    redirectToSimpleWorkflow();
                } else {
                    // Generic redirect for other simple workflows
                    redirectToWorkflow(patternId);
                }
            }
            
            // Update display after form change
            updateDisplay();
        }

        // Update JSON preview in real-time
        function updateJSONPreview() {
            const config = collectFormData();
            const jsonPreview = document.getElementById('jsonPreview');
            jsonPreview.textContent = JSON.stringify(config, null, 2);
        }

        // Collect all form data into structured JSON
        function collectFormData() {
            return {
                deployment: {
                    environment: document.getElementById('environment').value,
                    region: document.getElementById('region').value,
                    version: document.getElementById('version').value,
                    replicas: parseInt(document.getElementById('replicas').value) || 3
                },
                application: {
                    name: document.getElementById('appName').value,
                    namespace: document.getElementById('namespace').value,
                    dockerImage: document.getElementById('dockerImage').value,
                    resources: document.getElementById('resources').value
                },
                database: {
                    type: document.getElementById('dbType').value,
                    version: document.getElementById('dbVersion').value,
                    size: document.getElementById('dbSize').value
                },
                advanced: {
                    enableLogging: document.getElementById('enableLogging').checked,
                    enableMonitoring: document.getElementById('enableMonitoring').checked,
                    customEnvVars: parseJSON(document.getElementById('customEnvVars').value),
                    deploymentNotes: document.getElementById('deploymentNotes').value
                },
                metadata: {
                    timestamp: new Date().toISOString(),
                    triggeredBy: 'github-pages',
                    formVersion: '1.0',
                    totalInputs: 15 // Demonstrating 15 inputs vs GitHub's 10 limit
                }
            };
        }

        // Safely parse JSON with fallback
        function parseJSON(str) {
            if (!str.trim()) return {};
            try {
                return JSON.parse(str);
            } catch (e) {
                return { error: 'Invalid JSON format' };
            }
        }

        // Show different forms based on pattern
        function showAdvancedForm() {
            // Advanced form is already in HTML - this function ensures it's properly displayed
            updateJSONPreview();
        }

        function showSimpleForm() {
            const formContainer = document.getElementById('triggerForm');
            formContainer.innerHTML = `
                <h3>‚ö° Simple Workflow Trigger</h3>
                <div class="form-group">
                    <label for="simple-message">Message:</label>
                    <textarea id="simple-message" placeholder="Enter a message for the workflow...">Hello from Simple Trigger! üëã</textarea>
                </div>
                <div class="form-group">
                    <label for="simple-environment">Environment:</label>
                    <select id="simple-environment">
                        <option value="development">Development</option>
                        <option value="staging">Staging</option>
                        <option value="production">Production</option>
                    </select>
                </div>
                <button type="submit" class="btn" id="triggerBtn">
                    ‚ö° Trigger Simple Workflow
                </button>
            `;
        }



        // Update display based on selected pattern
        function updateDisplay() {
            if (selectedPattern === 'advanced') {
                updateJSONPreview();
            }
            // Other patterns don't need real-time preview updates
        }

        // Handle workflow trigger
        async function handleWorkflowTrigger(e) {
            e.preventDefault();
            
            const triggerBtn = document.getElementById('triggerBtn');
            const pattern = WORKFLOW_PATTERNS[selectedPattern];
            
            // Reset status and disable button
            hideMessage();
            triggerBtn.disabled = true;
            
            if (selectedPattern === 'advanced') {
                const config = collectFormData();
                
                // Validate required fields
                if (!config.application.name || !config.deployment.version) {
                    showMessage('error', '‚ùå Please fill in all required fields (Application Name, Version)');
                    triggerBtn.disabled = false;
                    return;
                }
                
                triggerBtn.textContent = 'üîÑ Generating JSON payload...';
                redirectToGitHubActions(config, pattern.workflow);
                
            } else if (selectedPattern === 'simple') {
                triggerBtn.textContent = 'üîÑ Triggering simple workflow...';
                const message = document.getElementById('simple-message').value;
                const environment = document.getElementById('simple-environment').value;
                redirectToSimpleWorkflowWithParams(message, environment, pattern.workflow);
                
            }
            
            // Re-enable button after delay
            setTimeout(() => {
                triggerBtn.disabled = false;
                const originalText = triggerBtn.textContent.replace('üîÑ ', 'üéØ ').replace('...', '');
                triggerBtn.textContent = originalText;
            }, 3000);
        }

        // Direct user to GitHub Actions page to trigger workflow with JSON payload
        function redirectToGitHubActions(config) {
            // Create the GitHub Actions trigger URL
            const actionsUrl = `https://github.com/${REPO_OWNER}/${REPO_NAME}/actions/workflows/advanced-workflow.yaml`;
            
            // Create a compact JSON string for display
            const jsonPayload = JSON.stringify(config, null, 2);
            
            showMessage('success', `
                üéØ <strong>Advanced Configuration Ready!</strong><br><br>
                <strong>Configuration Summary:</strong><br>
                ÔøΩ App: ${config.application.name} (${config.application.dockerImage})<br>
                üåç Environment: ${config.deployment.environment} (${config.deployment.region})<br>
                üóÑÔ∏è Database: ${config.database.type} ${config.database.version}<br>
                ‚öñÔ∏è Scale: ${config.deployment.replicas} replicas (${config.application.resources})<br>
                üìä Total Inputs: ${config.metadata.totalInputs} (exceeds GitHub's 10-input limit!)<br><br>
                
                <a href="${actionsUrl}" target="_blank" class="btn" style="color: white; text-decoration: none; display: inline-block; margin: 10px 0;">
                    üöÄ Trigger Advanced Workflow in GitHub Actions
                </a><br>
                
                <small>
                <div style="background: #d1ecf1; border: 1px solid #bee5eb; border-radius: 4px; padding: 8px; margin: 8px 0; text-align: center;">
                    üìã <strong>JSON Already Copied to Clipboard!</strong><br>
                    <small>Just paste (Ctrl+V) when GitHub opens</small>
                </div>
                <strong>Super Simple Steps:</strong><br>
                1. ‚úÖ JSON is already copied to your clipboard<br>
                2. üöÄ Click button above to open GitHub Actions<br>
                3. ‚ñ∂Ô∏è Click "Run workflow" button<br>
                4. üìã Paste (Ctrl+V) in the JSON Configuration field<br>
                5. üéØ Click "Run workflow" to start!
                </small>
            `);
            
            // Copy to clipboard for easy pasting
            navigator.clipboard.writeText(jsonPayload).then(() => {
                // Update button text temporarily to show copy success
                triggerBtn.textContent = 'üìã JSON Copied! Opening GitHub...';
                triggerBtn.style.background = '#fb8500';
            }).catch(err => {
                // Fallback copy method
                const textArea = document.createElement('textarea');
                textArea.value = jsonPayload;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                
                triggerBtn.textContent = 'üìã JSON Copied! Opening GitHub...';
                triggerBtn.style.background = '#FF6200';
            });
            
            // Auto-open GitHub Actions page
            setTimeout(() => {
                window.open(actionsUrl, '_blank');
            }, 3000);
        }



        // Generic redirect to workflow
        function redirectToWorkflow(patternId) {
            const pattern = WORKFLOW_PATTERNS[patternId];
            const dispatchUrl = `https://github.com/${REPO_OWNER}/${REPO_NAME}/actions/workflows/${pattern.workflow}`;
            
            showMessage('success', `
                üöÄ <strong>Redirecting to ${pattern.name}!</strong><br><br>
                <strong>Why no form?</strong><br>
                This workflow has ${pattern.inputCount} inputs, which is simple enough to fill directly in GitHub Actions.<br><br>
                <a href="${dispatchUrl}" target="_blank" class="btn" style="color: white; text-decoration: none; display: inline-block; margin: 10px 0;">
                    ‚ö° Open ${pattern.name} in GitHub Actions
                </a><br>
                <small>You can also wait 3 seconds for automatic redirect...</small>
            `);
            
            setTimeout(() => {
                window.open(dispatchUrl, '_blank');
            }, 3000);
        }

        // Direct redirect to simple workflow (no form needed)
        function redirectToSimpleWorkflow() {
            const pattern = WORKFLOW_PATTERNS['simple'];
            const dispatchUrl = `https://github.com/${REPO_OWNER}/${REPO_NAME}/actions/workflows/${pattern.workflow}`;
            
            showMessage('success', `
                üöÄ <strong>Redirecting to Simple Workflow!</strong><br><br>
                <a href="${dispatchUrl}" target="_blank" style="background: #fb8500; color: white; text-decoration: none; display: inline-block; padding: 8px 16px; border-radius: 6px; font-size: 14px; margin: 8px 0;">
                    ‚ö° Open Simple Workflow
                </a><br>
                <small>You can also wait 3 seconds for automatic redirect...</small>
            `);
            
            
            setTimeout(() => {
                window.open(dispatchUrl, '_blank');
            }, 3000);
        }

        // Redirect to simple workflow (with parameters - used by form submission)
        function redirectToSimpleWorkflowWithParams(message, environment, workflowFile) {
            const dispatchUrl = `https://github.com/${REPO_OWNER}/${REPO_NAME}/actions/workflows/${workflowFile}`;
            
            showMessage('success', `
                ‚úÖ Simple workflow ready to trigger!<br><br>
                <strong>Configuration:</strong><br>
                ‚Ä¢ Message: ${message}<br>
                ‚Ä¢ Environment: ${environment}<br><br>
                You'll be redirected to GitHub Actions to run the workflow...
            `);
            
            setTimeout(() => {
                window.open(dispatchUrl, '_blank');
            }, 2000);
        }



        // Utility functions
        function showMessage(type, message) {
            const statusDiv = document.getElementById('status');
            statusDiv.className = `status ${type}`;
            statusDiv.innerHTML = message;
            statusDiv.style.display = 'block';
        }

        function hideMessage() {
            const statusDiv = document.getElementById('status');
            statusDiv.style.display = 'none';
        }

        // Copy JSON to clipboard with visual feedback
        function copyJsonToClipboard() {
            const jsonPreview = document.getElementById('jsonPreview');
            const copyBtn = document.getElementById('copyJsonBtn');
            const originalText = copyBtn.innerHTML;
            
            // Get the JSON text
            const jsonText = jsonPreview.textContent;
            
            // Copy to clipboard
            navigator.clipboard.writeText(jsonText).then(() => {
                // Success feedback
                copyBtn.innerHTML = `
                    <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
                        <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
                    </svg>
                    Copied!
                `;
                copyBtn.style.background = '#2da44e';
                
                // Reset after 2 seconds
                setTimeout(() => {
                    copyBtn.innerHTML = originalText;
                    copyBtn.style.background = '#fb8500';
                }, 2000);
            }).catch(err => {
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = jsonText;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                
                // Show feedback
                copyBtn.innerHTML = `
                    <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
                        <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
                    </svg>
                    Copied!
                `;
                copyBtn.style.background = '#2da44e';
                
                setTimeout(() => {
                    copyBtn.innerHTML = originalText;
                    copyBtn.style.background = '#FF6200';
                }, 2000);
            });
        }
    </script>
</body>
</html>